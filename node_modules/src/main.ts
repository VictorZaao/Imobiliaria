import express from 'express';
import { Empresa } from './empresa';
import { Funcionario } from './funcionarios';
import { Cliente } from './clientes';
import { Imovel } from './imoveis';
import { Inquilino } from './inquilinos';

const app = express();
const port = 3000;

const empresa = new Empresa('Minha Imobiliária', ['Gerente', 'Corretor'], '1234567890', []);

const funcionario1 = new Funcionario('João', '12345678901', 'Masculino', 'joao@email.com', 30);
const funcionario2 = new Funcionario('Maria', '98765432109', 'Feminino', 'maria@email.com', 28);

const imovel1 = new Imovel('Rua ABC, 123', 200000, 150, 4, 1);
const imovel2 = new Imovel('Avenida XYZ, 456', 300000, 200, 5, 2);

const cliente1 = new Cliente('Cliente1', '11111111111', 'Masculino', 'cliente1@email.com', imovel1);
const cliente2 = new Cliente('Cliente2', '22222222222', 'Feminino', 'cliente2@email.com', imovel2);

empresa.clientes.push(cliente1, cliente2);

const inquilino1 = new Inquilino('Inquilino1', 'Masculino', 'Rua XYZ, 789', '123-456-7890', '33333333333', 'Contato de Emergência: 444-555-6666', 1000);
const inquilino2 = new Inquilino('Inquilino2', 'Feminino', 'Avenida ABC, 987', '987-654-3210', '44444444444', 'Contato de Emergência: 777-888-9999', 1200);

app.get('/empresa', (req, res) => {
  res.json(empresa);
});

app.get('/funcionarios', (req, res) => {
  res.json([funcionario1, funcionario2]);
});

app.get('/clientes', (req, res) => {
  res.json(empresa.clientes);
});

app.get('/imoveis', (req, res) => {
  res.json([imovel1, imovel2]);
});

app.get('/inquilinos', (req, res) => {
  res.json([inquilino1, inquilino2]);
});

app.listen(port, () => {
  console.log(`Servidor rodando na porta ${port}`);
});